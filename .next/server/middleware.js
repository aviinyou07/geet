"use strict";(()=>{var a={};a.id=751,a.ids=[751],a.modules={3133:a=>{a.exports=require("next/dist/server/lib/cache-handlers/default.external.js")},3295:a=>{a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:a=>{a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11407:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{n:()=>g});var e=c(67689),f=a([e]);if(e=(f.then?(await f)():f)[0],!process.env.JWT_SECRET)throw Error("JWT_SECRET is not defined");let h=new TextEncoder().encode(process.env.JWT_SECRET);async function g(a){try{let{payload:b}=await (0,e.jwtVerify)(a,h);return b}catch{return null}}d()}catch(a){d(a)}})},16698:a=>{a.exports=require("node:async_hooks")},19121:a=>{a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:a=>{a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:a=>{a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},67689:a=>{a.exports=import("jose")},78753:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{config:()=>i,middleware:()=>h});var e=c(91690),f=c(11407),g=a([f]);f=(g.then?(await g)():g)[0];let i={matcher:["/admin/:path*"],runtime:"nodejs"};async function h(a){let b=a.cookies.get("token")?.value;if(a.nextUrl.pathname.startsWith("/admin/login"))return e.NextResponse.next();if(!b)return e.NextResponse.redirect(new URL("/admin/login",a.url));let c=await (0,f.n)(b);return c&&"ADMIN"===c.role?e.NextResponse.next():e.NextResponse.redirect(new URL("/admin/login",a.url))}d()}catch(a){d(a)}})},98464:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{default:()=>i});var e=c(71543),f=c(50734),g=c(78753);c(14070);var h=a([g]);let j={...g=(h.then?(await h)():h)[0]},k=j.middleware||j.default,l="/src/middleware";if("function"!=typeof k)throw Object.defineProperty(Error(`The Middleware "${l}" must export a \`middleware\` or a \`default\` function`),"__NEXT_ERROR_CODE",{value:"E120",enumerable:!1,configurable:!0});function i(a){return(0,f.adapter)({...a,page:l,handler:async(...a)=>{try{return await k(...a)}catch(f){let b=a[0],c=new URL(b.url),d=c.pathname+c.search;throw await (0,e.edgeInstrumentationOnRequestError)(f,{path:d,method:b.method,headers:Object.fromEntries(b.headers.entries())},{routerKind:"Pages Router",routePath:"/middleware",routeType:"middleware",revalidateReason:void 0}),f}}})}d()}catch(a){d(a)}})}};var b=require("./webpack-runtime.js");b.C(a);var c=b.X(0,[96,76],()=>b(b.s=98464));module.exports=c})();