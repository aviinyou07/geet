(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[581],{4115:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var a=t(5155),l=t(2619),n=t.n(l),r=t(63),o=t(2115);let c=["dashboard","blogs","settings"];function i(){let e=(0,r.usePathname)(),s=(0,r.useRouter)(),[t,l]=(0,o.useState)("Admin");(0,o.useEffect)(()=>{!async function(){try{let e=await fetch("/api/admin/me",{method:"GET",credentials:"include"});if(!e.ok)throw Error("Failed to fetch admin info");let s=await e.json();l(s.name||"Admin")}catch(e){console.error(e),l("Admin")}}()},[]);let i=async()=>{try{await fetch("/api/admin/logout",{method:"POST"}),s.push("/admin/login")}catch(e){console.error("Logout failed:",e)}};return(0,a.jsxs)("aside",{className:"w-64 bg-white shadow-md flex flex-col h-screen overflow-hidden",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b",children:[(0,a.jsx)("div",{className:"text-xl font-semibold",children:"Admin Panel"}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:["Welcome, ",t]})]}),(0,a.jsx)("nav",{className:"flex-1 px-2 py-4 space-y-2 overflow-y-auto",children:c.map(s=>{let t="/admin/".concat(s),l=e===t;return(0,a.jsx)(n(),{href:t,className:"block w-full text-left px-4 py-2 rounded hover:bg-gray-200 ".concat(l?"bg-gray-200 font-semibold":""),children:s.charAt(0).toUpperCase()+s.slice(1)},s)})}),(0,a.jsx)("div",{className:"px-6 py-4 border-t",children:(0,a.jsx)("button",{onClick:i,className:"w-full text-left px-4 py-2 rounded hover:bg-red-200 text-red-600 font-semibold",children:"Logout"})})]})}function d(e){let{children:s}=e;return(0,a.jsxs)("div",{className:"flex min-h-screen bg-gray-100",children:[(0,a.jsx)(i,{}),(0,a.jsx)("main",{className:"flex-1 p-6",children:s})]})}},7857:(e,s,t)=>{Promise.resolve().then(t.bind(t,4115))}},e=>{e.O(0,[96,76,358],()=>e(e.s=7857)),_N_E=e.O()}]);